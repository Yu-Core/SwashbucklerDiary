@namespace SwashbucklerDiary.Rcl.Layout
@inherits MainLayoutNavBase

@if (IsPermanentPath)
{
    <link href="@cssHref" rel="stylesheet" />
}

<MBottomNavigation InputValue="Show"
                   Class="@Class"
                   Style="background-color:initial;"
                   Mandatory="true"
                   App="true">
    @foreach (var item in Items)
    {
        <MainLayoutBottomNavItem @key="item.Href"
                                 Value="item">
        </MainLayoutBottomNavItem>
    }
</MBottomNavigation>

@code {
    private readonly static string cssHref = $"./_content/{Rcl.Essentials.StaticWebAssets.RclAssemblyName}/css/extend/masa-blazor-extend-enqueued-snackbars.css";

    private bool Show => BreakpointService.Breakpoint.Xs && IsPermanentPath;

    private string Class => new CssBuilder()
        .Add("justify-space-around")
        .Add("m-bottom-navigation-hidden", !Show)
        .ToString();
}
