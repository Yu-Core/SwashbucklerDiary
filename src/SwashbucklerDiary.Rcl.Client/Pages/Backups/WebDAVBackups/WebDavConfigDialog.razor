@namespace SwashbucklerDiary.Rcl.Pages
@inherits FocusDialogComponentBase

<MDialogExtension MyValue="Visible"
                  MyValueChanged="InternalVisibleChanged"
                  ContentClass="rounded-lg"
                  MaxWidth="480"
                  DisableAutoFocus
                  OnAfterShowContent="FocusAsync"
                  OnBeforeShowContent="BeforeShowContent">
    <MForm @ref="@mForm"
           Model="@configModel"
           OnValidSubmit="HandleOnOK"
           EnableI18n="true">
        <MCard>
            <MCardTitle Class="font-weight-bold">
                @(I18n.T("Backups.Config.Title"))
                <MSpacer></MSpacer>
                <MButton Icon="true" OnClick="HandleOnCancel">
                    <MIcon>mdi-close</MIcon>
                </MButton>
            </MCardTitle>
            <MCardText Class="pb-0">
                <MTextField @bind-Value="configModel.ServerAddress"
                            @ref="textField"
                            Dense
                            MinHeight="48"
                            Filled
                            Rounded
                            spellcheck="false"
                            Placeholder="@(I18n.T("Backups.Config.ServerAddress"))">
                </MTextField>
                <MTextField @bind-Value="configModel.Account"
                            Dense
                            MinHeight="48"
                            Filled
                            Rounded
                            spellcheck="false"
                            Placeholder="@(I18n.T("Backups.Config.Account"))">
                </MTextField>
                <MTextField @bind-Value="configModel.Password"
                            Dense
                            MinHeight="48"
                            Filled
                            Rounded
                            spellcheck="false"
                            Placeholder="@(I18n.T("Backups.Config.Password"))"
                            AppendIcon="@(showPassword ? "mdi-eye" : "mdi-eye-off")"
                            Type="@(showPassword ? "text" : "password")"
                            OnAppendClick="() => showPassword = !showPassword">
                </MTextField>
            </MCardText>
            <MCardActions Class="pt-0">
                <MSpacer></MSpacer>
                <MButton Text="true" OnClick="HandleOnCancel">
                    @(I18n.T("Share.Cancel"))
                </MButton>
                <MButton Text="true"
                         Type="submit"
                         Color="primary">
                    @(I18n.T("Share.OK"))
                </MButton>
            </MCardActions>
        </MCard>
    </MForm>
</MDialogExtension>
