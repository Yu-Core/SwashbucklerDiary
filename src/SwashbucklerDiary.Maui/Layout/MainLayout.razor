@inherits Rcl.Hybird.Layout.MainLayoutBase

@if (afterInitSetting)
{
    <MApp>
        <CascadingValue Value="@I18n.Culture.Name" Name="Culture">
            <ErrorBoundary>
                <ChildContent>
                    <MainLayoutNavDrawer Items="navigationButtons" IsPermanentPath="IsPermanentPath"></MainLayoutNavDrawer>

                    <MMain>
                        <PageCacheContainer>
                            @Body
                        </PageCacheContainer>
                    </MMain>

                    <MainLayoutBottomNav Items="navigationButtons" IsPermanentPath="IsPermanentPath"></MainLayoutBottomNav>

                    <UpdateDialog @bind-Visible="showUpdate"></UpdateDialog>
                    <PermissionSnackbar></PermissionSnackbar>
                    <SponsorSupportSnackbar @bind-Visible="showSponsorSupport"></SponsorSupportSnackbar>
                </ChildContent>

                <ErrorContent>
                    <ErrorDialog Exception="@context"></ErrorDialog>
                </ErrorContent>
            </ErrorBoundary>
        </CascadingValue>
    </MApp>
}
